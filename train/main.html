<!DOCTYPE html>

<html lang="en-us">

<head>

  <meta charset="UTF-8">
  <title></title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css" type="text/css">
  <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
</head>

<body>

  <div class="container">

    <br>
    <div class="jumbotron">
      <h1 class="text-center">Soul(less)Train</h1>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <div class="card card-default">
          <div class="card-header"> Current Train Schedule</div>
          <div class="card-body"></div>
          <table class="table table-hover">
              <thead>
                  <tr>
                      <th scope="col">Train Name</th>
                      <th scope="col">Destination</th>
                      <th scope="col">Frequency (min)</th>
                      <th scope="col">Next Arrival</th>
                      <th scope="col">Minutes Away</th>
                  </tr>
              </thead>
              <tbody id="full-table">
                  <tr>
                      <td scope="row" id="name"></td>
                      <td id="destination"></td>
                      <td id="frequency"></td>
                      <td id="next-arrival"></td>
                      <td id="minutes-away"></td>
                  </tr>

              </tbody>
          </table>
      </div>
            <table class="table table-hover">
          </div>





<br>
          <div class="row">
            <div class="col-lg-12">
              <div class="card card-default">
                <div class="card-header"> Add Train</div>
                <div class="card-body">
                  <div class="col-lg-2"></div>
                </div>




                <form>
                  <div class="form-group">
                    <label for="formInput">Train name</label>
                    <input type="text" class="form-control" id="formInput" placeholder="Thomas">
                  </div>
                  <div class="form-group">
                    <label for="formInput2">Destination</label>
                    <input type="text" class="form-control" id="formInput2" placeholder="Narnia">
                  </div>
                  <div class="form-group">
                    <label for="formInput3">First Train Time(military time)</label>
                    <input type="text" class="form-control" id="formInput3" placeholder="0300">
                  </div>
                  <div class="form-group">
                    <label for="formInput4">Frequency(min)</label>
                    <input type="text" class="form-control" id="formInput4" placeholder="">
                  </div>
                  <input class="btn btn-primary" type="submit" value="Submit">
                </form>





                <script src="https://code.jquery.com/jquery.js"></script>

                <script>
                  var config = {
                    apiKey: "AIzaSyDGHPL95nUOk61o2Xv8dBeAd4z2h_jYzUI",
                    authDomain: "recent-user-with-all-use-e8e76.firebaseapp.com",
                    databaseURL: "//keilaniocentric.firebaseio.com/",
                    projectId: "trainhw",
                    storageBucket: "gs://keilaniocentric.appspot.com"
                  };

                  firebase.initializeApp(config);
                  var dataRef = firebase.database();

                  var name = "";
                  var destination = "";
                  var time = 0;
                  var frequency = "";

                  $("#add-user").on("click", function (event) {
                    event.preventDefault();


                    name = $("#formInput").val().trim();
                    destination = $("#formInput2").val().trim();
                    time = $("#formInput3").val().trim();
                    frequency = $("#formInput4").val().trim();

                    dataRef.ref().push({
                      name: name,
                      destination: destination,
                      time: time,
                      frequency: frequency,
                      dateAdded: firebase.database.ServerValue.TIMESTAMP
                    });
                  });
                  dataRef.ref().on("child_added", function (snapshot) {


                    console.log(snapshot.val());
                    console.log(snapshot.val().name);
                    console.log(snapshot.val().destination);
                    console.log(snapshot.val().time);
                    console.log(snapshot.val().frequency);


                  });
                </script>
</body>

</html>